#+TITLE:Process modeling with BPMN
#+AUTHOR:Marcus Birkenkrahe
#+SUBTITLE: Data modeling seminar 482.02 Fall 2021
#+STARTUP: overview
#+OPTIONS: toc:1 num:nil ^:nil
#+INFOJS_OPT: :view:info
* What will you learn?

  * Business Process Model and Notation
  * Object-oriented process modeling
  * Practice in the Signavio Process Editor

* BPMN object summary

  Business Process Model and Notation (BPMN) 2.0 has four main groups
  of shapes or objects. Source: [[lucidchart][Lucidchart, 2020]].

** Flow objects (Action/Decision)

   #+attr_html: :width 400px
   [[./img/flow.png]]

** Connecting objects (Communication)

   #+attr_html: :width 300px
   [[./img/connecting.png]]

** Participants (Roles/Accountability)

   #+attr_html: :width 350px
   [[./img/pools.png]]

** Artifacts (Details)

   #+attr_html: :width 400px
   [[./img/artifacts.png]]

   * Groups
   * Documents
   * Annotation
   * Message (data)

** More information

   For Signavio Process Manager, open the "Getting started" sidebar
   inside the Process Manager explorer window under "Help".

   #+attr_html: :width 600px
   [[./img/signavio.png]]

   [[https://documentation.signavio.com/suite/en-us/Content/process-manager/userguide/bpmn/modeling.htm][This Signavio document]] gives a complete, structured account of all
   the most relevant aspects of BPMN with many examples (SAP Signavio,
   2021).

   [[https://camunda.com/bpmn/reference/][This guide from Camunda]] (with link to a free BPMN online editor),
   is also very good and complete.

* BPMN case studies
** Eating icecream

   Creating and explaining this model takes about as much time as
   eating a big icecream (7 min) - [[https://youtu.be/BwkNceoybvA?t=346][Link]].

   #+attr_html: :width 600px
   [[./img/icecream.png]]

** Job application process

   Part 1: demonstration of creating a simple BPMN workflow for an
   application process. The software used here is irrelevant - you're
   still using the BPMN standard and you can recreate these models in
   a process modeling editor of your choice - bpmn.io, signavio, ARIS
   or even MS Visio will do. Source: Aptero Solutions, 2011.

   Youtube: https://youtu.be/WtOzW8Ck5LY

   Part 2: in this demonstration, which follows on part 1, you see how
   to implement the concept of multiple pools and message flow across
   pools using the same example as before, an application process. The
   process participants involved are: the applicant and the HR
   department of a company. Source: Aptero Solutions, 2011.

   Youtube: https://youtu.be/B5H2K8wcBGU

** IT service

   This example is (for now) only available in German.

   Video: [[https://youtu.be/kYK9t8fPkAY][BPMN 2.0 Prozessmodell in Signavio erzeugen.]]


   #+attr_html: :width 400px
   [[./img/german.png]]

* Pizza example

** Choreography

   #+attr_html: :width 600px
   [[./img/choreography.png]]

** Collaboration

   #+attr_html: :width 600px
   [[./img/collaboration.png]]

** Enterprise modeling with BPMN

   [[https://github.com/birkenkrahe/mod482/blob/main/10_bpmn/bpmn_modeling.pdf][GitHub: Enterprise Modeling with BPMN (PDF)]]

   #+attr_html: :width 600px
   [[./img/presentation.png]]

* Practice I

  #+attr_html: :width 300px
  [[./img/practice.gif]]

** BPMN rules

   [[./img/summary.gif]]

   | NO. | BPMN MODELING RULE                                          |
   |-----+-------------------------------------------------------------|
   |   1 | Every participant gets a pool or a lane inside a pool       |
   |   2 | Every pool contains exactly one process                     |
   |   3 | A process has at least one start and one end event          |
   |   4 | Sequence flow (Action) flows only within pools              |
   |   5 | Message flow (Communication) flows only between pools       |
   |   6 | All process elements must be named                          |
   |   7 | Decision points (exclusive gateways) have questions         |
   |   8 | Actors with little to do can become additional participants |
   |   9 | Split or joined sequence flows need gateways                |
   |  10 | Opened gateways must be closed                              |

   BPMN has slightly different rules than EPC. In addition, because
   it is primarily (though not only - see process mining and BPEL)
   for human consumption, the style of a diagram carries extra weight:

   | BPMN diagrams should be readable                   |
   | BPMN diagrams can be infinite in size              |
   | BPMN diagrams run from the left to the right       |
   | BPMN diagrams avoid loops (instead: attributes)    |
   | BPMN diagrams distinguish action and communication |

   Here is a complete EPC "cheat sheet" (Source: SAP Signavio)

   #+attr_html: :width 600px
   [[./img/bpmn.png]]

** BPMN diagram with mistakes
*** Problem
    Which rule violations can you see in the following diagram
    (GitHub)? The total number is[fn:6] = 8 errors - I count a total of
    11 additional rule violations. So the total is closer to 20.

    #+attr_html: :width 600px
    [[./img/error.png]]

*** Solution

    #+attr_html: :width 600px
    [[./img/error_solution.png]]

    1. Pool name must be actor or organization
    2. Between pools only message flows
    3. Collapsed pool needs a name
    4. Whole process must be inside pool
    5. Inside pools only sequence flows
    6. Only one start event per pool
    7. Only one end event per pool
    8. Default flow only after exclusive gateway
    9. Bi-directional association serves no purpose here
    10. "No" as flow title, and question at exclusive gateway missing
    11. Receiving intermediate message event wrongly named
    12. Task name missing
    13. End event name missing
    14. Sending end event neds to send something
    15. Need gateway here (flow splits)
    16. Start event need title
    17. Task needs title
    18. Task needs title
    19. Artifact needs title
    20. Swimline needs title

** Assignment (complete by Nov 2, 2.30 pm)

   #+attr_html: :width 400px
   [[./img/h5p.png]]

   * Review the rules using [[https://h5p.org/node/1138751][this online lesson]] (https://h5p.org/node/1138751)
   * Complete the summary quiz at the end of the lesson.
   * Watch both videos at the end (~Job application~, 20 min)
   * Rebuild the diagram in Signavio as a ~new>>BPMN 2.0 diagram~
     while you watch
   * Save them in your personal folder in ~Shared Documents~
   * Share the diagram with me using the ~Share>>Invite for feedback~ tab
   * Enter ~birkenkrahe@lyon.edu~ and check ~Send a copy to me~ for
     proof - as shown in the image.

     [[./img/share.png]]

* Practice II

  #+attr_html: :width 300px
  [[./img/practice2.gif]]

** Written BPMN test on November 4 at 2.30 pm

   Topics:
   * BPMN objects
   * BPMN rules and rule violations
   * BPMN workflow

** Assignment: Job application process (by Nov 2, 2.30 pm)

   * Review the rules using this online lesson
     (https://h5p.org/node/1138751)
   * Complete the summary quiz at the end of the lesson.
   * Watch both videos at the end ("Job application", 20 min)
   * Rebuild the diagram for the *Applicant* only (= 1 pool) in
     Signavio as a BPMN 2.0 diagram while you watch the first
     video. For the second video, rebuild only the diagram that is
     finished after 7 minutes* (= complete applicant process with
     message flows to the collapsed recruiter pool).
   * I made [[https://youtu.be/l6-fCtOXin4][this short screencast]] to help you get started.
   * Save the diagram in your personal folder in "Shared Documents"
   * Share the diagram with me using the "Share>>Invite for feedback"
     tab
   * Enter "birkenkrahe@lyon.edu" and check "Send a copy to me" for
     proof (as shown below)

   *) the complete model that is shown is unfortunately not very
   good. I'll share my complete, rule-compliant solution with you in
   class. Though BPMN 2.0 did exist in 2011, the diagram owes too much to
   version 1.0.

*** Applicant - happy path process
    ([[https://academic.signavio.com/p/editor?id=86d64600d0624b6cb17d7d81d2ef9bb5][Signavio]])

    #+attr_html: :width 600px
    [[./img/app1.png]]

*** Applicant - complete process
    ([[https://academic.signavio.com/p/editor?id=d82bf0c4c92248e89874950b78ff23b0][Signavio]])

    | Above: model in video       |
    | Below: rule compliant model |

    #+attr_html: :width 600px
    [[./img/app2.png]]

*** Recruiter - happy path process
    ([[https://academic.signavio.com/p/editor?id=2ff1f18657664833af590c6fc7aefbfc][Signavio]])

    #+attr_html: :width 600px
    [[./img/app3.png]]

*** Applicant and recruiter - happy path process
    ([[https://academic.signavio.com/p/editor?id=8ce1e76269aa48a3a7d646f29b3caebd][Signavio]])

    #+attr_html: :width 600px
    [[./img/app4.png]]

*** Recruiter - complete process
    ([[https://academic.signavio.com/p/editor?id=39830914287c4e658b5bf49584ba1c58][Signavio]])

    | Above: model in video       |
    | Below: rule compliant model |

    #+attr_html: :width 600px
    [[./img/app5.png]]

*** Applicant (complete process) / Recruiter (collapsed process)
    ([[https://academic.signavio.com/p/editor?id=3be88a96f306465cbb6a0dc486e0f726][Signavio]])

    #+attr_html: :width 600px
    [[./img/app6.png]]

*** Applicant and recruiter - complete collaborative process
    ([[https://academic.signavio.com/p/editor?id=e377cc9506544985b3c4978347b72f64][Signavio]])

    #+attr_html: :width 600px
    [[./img/app7.png]]

** Assignment: Build your first own BPMN diagram

   Here is my (recommended) BPMN modeling workflow.

   | NO. | STEP                                       | ACTION           |
   |-----+--------------------------------------------+------------------|
   |   1 | Who are the actors (organizational units)? | Pools and lanes  |
   |   2 | What are the start and end events?         | Gather them      |
   |   3 | Which other events or functions are there? | Gather them      |
   |   4 | Is there any communication?                | Add message flow |
   |   5 | What is the happy path?                    | Model it         |
   |   6 | Can any events or tasks be parallelized?   | Add gateways     |
   |   7 | Which decisions or changes are involved?   | Add gateways     |
   |   8 | Anything else?                             | Add it           |
   |   9 | Check diagram                              | Spell checker    |
   |  10 | Save and share diagram                     | Save and share   |

   * Turn this workflow into a BPMN diagram. It begins with the start
     event "Modeling begins"
   * You should at least complete the happy path model. If you're up
     to it, add gateways
   * Make sure you save the happy path model before creating a more
     detailed model
   * Save the diagram(s) in your personal folder in Shared Documents
   * Share the diagram with me using the "Share>>Invite to edit" tab

** TODO Convert an EPC to a BPMN diagram
** TODO Car purchase process
** TODO Practice session process
** TODO IT support process
* References

  <<lucidchart>> Lucidchart (Apr 28, 2020). Business Process Model and
  Notation (BPMN) 2.0 Tutorial [video]. [[https://youtu.be/BwkNceoybvA][Online: youtube.com]].

  <<signavio>> SAP Signavio Process editor version 15.7.1. SAP
  (2021). Academic edition [platform]. Online: [[https://www.signavio.com/][www.signavio.com.]]

  <<tutor>> SAP Signavio (n.d.). BPMN modeling [website]. [[https://documentation.signavio.com/suite/en-us/Content/process-manager/userguide/bpmn/modeling.htm][Online:
  signavio.com]]

* Footnotes

[fn:6]According to the Signavio "spell checker" for BPMN 2.0 diagrams.

[fn:5]The idea for this problem came from a figure in a book I'm
reading, "Tiny C Projects" ([[gookin][Gookin, 2021]]):
#+attr_html: :width 500px
[[./img/cycle.png]]

[fn:4]Business processes generate added value.

[fn:3]Different languages use different terms:(1)
*Functions*/tasks/actions/activities; (2) *events*/status/trigger; (3)
*flow*/path/sequence/connectors; (4) *operators*/gateways/decisions.

[fn:2]Any productive ERP system contains many more transactions than
that. In practice, these are often modeled as BPMN diagrams, or as ER
Diagrams, if customer-facing or database operations are being
modeled. For more about ERP systems, see this tutorial ([[sap][SAP]]).

[fn:1]Cp. ITIL library of IT processes, especially with regards
to IT services. More: [[wiki][Wikipedia]] (2021).

#+attr_html: :width 600px
[[./img/itil.jpg]]
/Image source: ITIL docs, 2021/
